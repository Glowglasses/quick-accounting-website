(function(t){function e(e){for(var s,o,r=e[0],c=e[1],l=e[2],d=0,h=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&h.push(n[o][0]),n[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==n[c]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},n={app:0},i=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"0a46":function(t,e,a){"use strict";a("f32b")},1913:function(t,e,a){},"1ce9":function(t,e,a){"use strict";a("aa17")},"1f56":function(t,e,a){},"298a":function(t,e,a){"use strict";a("c6c0")},"2f02":function(t,e,a){"use strict";a.r(e);var s=a("e017"),n=a.n(s),i=a("21a1"),o=a.n(i),r=new n.a({id:"chart",use:"chart-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="chart"><defs><style></style></defs><path d="M271.872 603.136v158.208c0 14.336 11.264 25.6 25.6 25.6s25.6-11.264 25.6-25.6V603.136c0-14.336-11.264-25.6-25.6-25.6s-25.6 11.264-25.6 25.6zm-37.376-153.088l209.408-145.92 124.416 135.68c2.048 2.048 4.096 3.584 6.656 5.12h18.944c2.56-1.024 5.12-2.048 7.68-3.584l219.648-153.6c12.8-8.704 15.872-26.112 7.168-38.4-8.704-12.8-26.112-15.872-38.912-7.168L584.704 384 468.992 249.344c-9.216-9.728-24.576-11.264-35.84-3.584-2.56.512-5.12 1.536-7.168 3.072l-223.232 153.6c-12.8 8.704-15.872 26.112-7.168 38.4s26.112 15.872 38.4 7.168v2.048zm190.464 45.568v265.728c0 14.336 11.264 25.6 25.6 25.6s25.6-11.264 25.6-25.6V495.616c0-14.336-11.264-25.6-25.6-25.6s-25.6 11.264-25.6 25.6zm304.128 0v265.728c0 14.336 11.264 25.6 25.6 25.6s25.6-11.264 25.6-25.6V495.616c0-14.336-11.264-25.6-25.6-25.6s-25.6 11.264-25.6 25.6zm-151.552 107.52v158.208c0 14.336 11.264 25.6 25.6 25.6s25.6-11.264 25.6-25.6V603.136c0-14.336-11.264-25.6-25.6-25.6s-25.6 11.264-25.6 25.6z" /><path d="M880.128 835.072H271.36c-56.32 0-102.4-46.08-102.4-102.4V162.816c0-14.336-11.264-25.6-25.6-25.6s-25.6 11.264-25.6 25.6v569.856c0 84.992 68.608 153.6 153.6 153.6h608.768c14.336 0 25.6-11.264 25.6-25.6 0-13.824-11.264-25.6-25.6-25.6z" /></symbol>'});o.a.add(r);e["default"]=r},"3bd3":function(t,e,a){},"41df":function(t,e,a){"use strict";a("6539")},4433:function(t,e,a){"use strict";a("ea23")},"450d":function(t,e,a){},"460b":function(t,e,a){"use strict";a("8588")},"556f":function(t,e,a){"use strict";a("762a")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"60e9":function(t,e,a){"use strict";a.r(e);var s=a("e017"),n=a.n(s),i=a("21a1"),o=a.n(i),r=new n.a({id:"return",use:"return-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="return"><defs><style></style></defs><path d="M956.999 559.445c-4.205 4.189-9.658 6.332-15.206 6.332-5.532 0-10.984-2.143-15.19-6.332l-414.598-414.6-414.584 414.6c-8.362 8.394-22.032 8.394-30.395 0-8.394-8.363-8.394-22.033 0-30.396L496.815 99.261c8.362-8.394 22.032-8.394 30.395 0l429.789 429.788c8.394 8.363 8.394 22.033 0 30.396zM769.878 931.049H619.5c-11.88 0-21.538-9.562-21.538-21.441s9.658-21.538 21.538-21.538h150.378c23.728 0 42.979-19.251 42.979-42.979V608.676c0-11.8 9.658-21.458 21.537-21.458s21.441 9.658 21.441 21.458V845.09c0 47.44-38.518 85.958-85.957 85.958zM619.5 716.155H426.047v193.453a21.393 21.393 0 01-21.441 21.441H254.13c-47.424 0-85.957-38.518-85.957-85.958v-408.25c0-11.88 9.658-21.538 21.537-21.538 11.8 0 21.442 9.658 21.442 21.537v408.251c0 23.729 19.266 42.98 42.978 42.98h128.937V694.633c0-11.8 9.658-21.458 21.538-21.458H619.5c11.8 0 21.441 9.658 21.441 21.458 0 11.959-9.641 21.52-21.441 21.52z" /></symbol>'});o.a.add(r);e["default"]=r},6539:function(t,e,a){},"689d":function(t,e,a){},7187:function(t,e,a){"use strict";a.r(e);var s=a("e017"),n=a.n(s),i=a("21a1"),o=a.n(i),r=new n.a({id:"subDuct",use:"subDuct-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="subDuct"><defs><style></style></defs><path d="M755.342 433.89L537.778 671.8a34.238 34.238 0 01-25.718 11.637 34.238 34.238 0 01-25.72-11.637L268.777 433.89c-10.621-11.218-13.903-27.568-8.414-42.009s18.737-24.525 34.133-25.897h434.949c15.455 1.313 28.761 11.337 34.251 25.838 5.55 14.5 2.268 30.79-8.354 42.068z" /></symbol>'});o.a.add(r);e["default"]=r},"762a":function(t,e,a){},"7ff0":function(t,e,a){"use strict";a("1913")},"850f":function(t,e,a){"use strict";a("3bd3")},8588:function(t,e,a){},"86d0":function(t,e,a){"use strict";a.r(e);var s=a("e017"),n=a.n(s),i=a("21a1"),o=a.n(i),r=new n.a({id:"addTags",use:"addTags-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="addTags"><defs><style></style></defs><path d="M896 448H576V128c0-35.2-28.8-64-64-64s-64 28.8-64 64v320H128c-35.2 0-64 28.8-64 64s28.8 64 64 64h320v320c0 35.2 28.8 64 64 64s64-28.8 64-64V576h320c35.2 0 64-28.8 64-64s-28.8-64-64-64z" /></symbol>'});o.a.add(r);e["default"]=r},"8ccb":function(t,e,a){"use strict";a.r(e);var s=a("e017"),n=a.n(s),i=a("21a1"),o=a.n(i),r=new n.a({id:"statistics",use:"statistics-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="statistics"><defs><style></style></defs><path d="M853.333 85.333a64 64 0 0164 64v725.334a64 64 0 01-64 64H256a64 64 0 01-64-64v-128h-32a32 32 0 010-64h32v-128h-32a32 32 0 010-64h32v-128h-32a32 32 0 010-64h32V149.333a64 64 0 0164-64h597.333zm-21.333 64H277.333a21.333 21.333 0 00-21.184 18.838l-.149 2.496v682.666a21.333 21.333 0 0018.837 21.184l2.496.15H832a21.333 21.333 0 0021.184-18.838l.15-2.496V170.667A21.333 21.333 0 00832 149.333zm-137.365 158.72a32 32 0 010 45.248l-72.832 72.811h71.53a32 32 0 010 64H585.26v64h108.074a32 32 0 010 64H585.26V736a32 32 0 01-64 0V618.112H416a32 32 0 110-64h105.259v-64H416a32 32 0 110-64h72.192l-72.81-72.81a32 32 0 0145.247-45.27l94.358 94.379 94.4-94.358a32 32 0 0145.248 0z" /></symbol>'});o.a.add(r);e["default"]=r},"8ff0":function(t,e,a){"use strict";a("450d")},9223:function(t,e,a){"use strict";a("9fd9")},"9a85":function(t,e,a){"use strict";a("c2fe")},"9c0c":function(t,e,a){},"9c9e":function(t,e,a){"use strict";a.r(e);var s=a("e017"),n=a.n(s),i=a("21a1"),o=a.n(i),r=new n.a({id:"upDuct",use:"upDuct-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="upDuct"><defs><style></style></defs><path d="M268.658 590.11L486.222 352.2a34.238 34.238 0 0125.718-11.637 34.238 34.238 0 0125.72 11.637l217.563 237.91c10.621 11.218 13.903 27.568 8.414 42.009s-18.737 24.525-34.133 25.897H294.555c-15.455-1.313-28.761-11.337-34.251-25.838-5.55-14.5-2.268-30.79 8.354-42.068z" /></symbol>'});o.a.add(r);e["default"]=r},"9fd9":function(t,e,a){},aa17:function(t,e,a){},ac8d:function(t,e,a){"use strict";a("689d")},b422:function(t,e,a){var s={"./addTags.svg":"86d0","./chart.svg":"2f02","./money.svg":"cf44","./return.svg":"60e9","./return1.svg":"dee3","./statistics.svg":"8ccb","./subDuct.svg":"7187","./upDuct.svg":"9c9e"};function n(t){var e=i(t);return a(e)}function i(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=i,t.exports=n,n.id="b422"},c2fe:function(t,e,a){},c6c0:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("9a83");var s=a("f564"),n=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],r=(a("5c0b"),a("2877")),c={},l=Object(r["a"])(c,i,o,!1,null,null,null),u=l.exports,d=a("9483");Object(d["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var h,f=a("8c4f"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[t._v("当前页面不存在，请检查网址是否正确")]),a("router-link",{attrs:{to:"/"}},[t._v("返回首页")])],1)},p=[],m={name:"NotFound"},y=m,g=Object(r["a"])(y,v,p,!1,null,"b581ba4e",null),b=g.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"container",staticClass:"statistics-container"},[a("Layout",[a("StatisticsTop"),a("record-display")],1)],1)},w=[],k=a("d4ec"),j=a("bee2"),_=a("262e"),$=a("2caf"),x=a("9ab4"),I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top-wrap"},[a("div",{staticClass:"selectDate",on:{click:t.showPopup}},[t._v(t._s(t.displayDate)),a("Icon",{attrs:{name:t.iconName}})],1),a("div",{staticClass:"displayAmount"},[a("div",[t._v(t._s(t.amount))]),a("div",[t._v(t._s(t.currentMonth+"月结余"))])]),a("div",{staticClass:"payAndIncome"},[a("div",{staticClass:"income"},[a("div",[t._v(t._s(t.income))]),a("div",[t._v(t._s(t.currentMonth+"月收入"))])]),a("div",{staticClass:"pay"},[a("div",[t._v(t._s(t.pay))]),a("div",[t._v(t._s(t.currentMonth+"月支出"))])])]),a("van-popup",{style:{height:"40%"},attrs:{position:"bottom"},on:{close:t.onClose},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("van-datetime-picker",{attrs:{type:"year-month",title:"选择年月","min-date":t.minDate,"max-date":t.maxDate,formatter:t.formatter},on:{cancel:t.onCancel,confirm:t.onConfirm},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1)],1)},C=[],L=a("ade3"),T=(a("8a58"),a("e41f")),D=(a("d1cf"),a("ee83")),A=(a("ac1f"),a("5319"),a("b0c0"),a("1b40")),B=a("5a0c"),E=a.n(B),S=function(t){Object(_["a"])(a,t);var e=Object($["a"])(a);function a(){var t;return Object(k["a"])(this,a),t=e.apply(this,arguments),t.minDate=new Date(2020,0,1),t.maxDate=E()().add(3,"year").toDate(),t.currentDate=new Date,t.displayDate=E()(t.currentDate).format("YYYY年MM月"),t.show=!1,t.iconName="subDuct",t.amount="0",t.pay=0,t.income=0,t}return Object(j["a"])(a,[{key:"currentMonth",get:function(){return parseInt(this.displayDate.substring(5,7))>9?this.displayDate.substring(5,7):this.displayDate.substring(5,7).replace("0","")}},{key:"created",value:function(){this.$store.commit("fetchRecordList"),this.$store.commit("getRecordListHash"),this.amount=this.$store.state.recordListHash[parseInt(this.currentMonth)-1].total,this.pay=this.$store.state.recordListHash[parseInt(this.currentMonth)-1].pay,this.income=this.$store.state.recordListHash[parseInt(this.currentMonth)-1].income,this.$store.state.currentMonth=this.currentMonth}},{key:"showPopup",value:function(){this.currentDate=new Date,this.show=!0,this.iconName="upDuct"}},{key:"onClose",value:function(){this.iconName="subDuct"}},{key:"formatter",value:function(t,e){return"year"===t?"".concat(e,"年"):"month"===t?"".concat(e,"月"):e}},{key:"onCancel",value:function(){this.show=!1}},{key:"onConfirm",value:function(t){this.show=!1,this.displayDate=E()(t).format("YYYY年MM月"),this.amount=this.$store.state.recordListHash[parseInt(this.currentMonth)-1].total,this.pay=this.$store.state.recordListHash[parseInt(this.currentMonth)-1].pay,this.income=this.$store.state.recordListHash[parseInt(this.currentMonth)-1].income,this.$store.state.currentMonth=this.currentMonth}}]),a}(n["a"]);S=Object(x["a"])([Object(A["a"])({components:(h={},Object(L["a"])(h,D["a"].name,D["a"]),Object(L["a"])(h,T["a"].name,T["a"]),h)})],S);var H=S,N=H,V=(a("41df"),Object(r["a"])(N,I,C,!1,null,"3e40021f",null)),M=V.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"records-wrap"},[a("div",{staticClass:"recordItems"},t._l(t.groupMonthRecordList,(function(e){return a("div",{key:e.date},[a("div",{staticClass:"content"},[a("div",{staticClass:"content-top"},[t._v(t._s(e.date))]),t._l(e.value,(function(e,s){return a("div",{key:s,staticClass:"content-bottom",on:{click:function(a){return t.update(e)}}},[t._l(e.tags,(function(e,s){return a("span",{key:s},[a("span",{staticClass:"tag"},[t._v(t._s(e.name))])])})),a("span",{staticClass:"note"},[t._v(t._s(e.notes))]),a("span",{staticClass:"amount",on:{click:t.update}},[t._v(t._s("0"!==e.amount?e.type+e.amount:e.amount))])],2)}))],2)])})),0)])},P=[];a("159b");function Y(t){var e,a,s=[];if(void 0===t)return[];var n="";return t.forEach((function(t){var i=E()(t.createdAt).format("YYYY年M月D日");n===i?(e.push(t),a["date"]=i,a["value"]=e):(a={date:"",value:[]},n=i,e=[],e.push(t),a["date"]=i,a["value"]=e,s.push(a))})),s}var F=function(t){Object(_["a"])(a,t);var e=Object($["a"])(a);function a(){return Object(k["a"])(this,a),e.apply(this,arguments)}return Object(j["a"])(a,[{key:"created",value:function(){this.$store.commit("getRecordListHash")}},{key:"currentMonthRecordHash",get:function(){return this.$store.state.recordListHash[parseInt(this.$store.state.currentMonth)-1]||[]}},{key:"groupMonthRecordList",get:function(){return Y(this.currentMonthRecordHash.recordList)}},{key:"update",value:function(t){window.localStorage.setItem("currentRecord",JSON.stringify(t)),this.$store.commit("getCurrentRecord"),this.$router.push("/update")}}]),a}(n["a"]);F=Object(x["a"])([A["a"]],F);var z=F,J=z,U=(a("0a46"),Object(r["a"])(J,R,P,!1,null,"6fb0ef25",null)),W=U.exports,q=function(t){Object(_["a"])(a,t);var e=Object($["a"])(a);function a(){return Object(k["a"])(this,a),e.apply(this,arguments)}return Object(j["a"])(a,[{key:"mounted",value:function(){var t=this.$refs.container;t.style.height=document.documentElement.clientHeight+"px"}}]),a}(A["c"]);q=Object(x["a"])([Object(A["a"])({components:{RecordDisplay:W,StatisticsTop:M}})],q);var X=q,G=X,K=(a("8ff0"),Object(r["a"])(G,O,w,!1,null,"384b395d",null)),Q=K.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("ChartTop"),a("ChartContent")],1)},tt=[],et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"payOrIncome"},[a("span",{staticClass:"selectPayOrIncome",on:{click:t.selectPayOrIncome}},[t._v("支出")]),a("span",{on:{click:t.selectPayOrIncome}},[t._v("收入")])]),a("div",{staticClass:"orderByTime"},[a("span",{staticClass:"selectOrderByTime",on:{click:t.selectOrderByTime}},[t._v("周")]),a("span",{on:{click:t.selectOrderByTime}},[t._v("月")]),a("span",{on:{click:t.selectOrderByTime}},[t._v("年")])])])},at=[],st=function(t){Object(_["a"])(a,t);var e=Object($["a"])(a);function a(){return Object(k["a"])(this,a),e.apply(this,arguments)}return Object(j["a"])(a,[{key:"selectPayOrIncome",value:function(t){var e=t.target;null!==e.parentNode&&(e.parentNode.childNodes.forEach((function(t){t.classList.remove("selectPayOrIncome")})),e.classList.add("selectPayOrIncome"),this.$store.state.chartPayOrIncome=e.textContent)}},{key:"selectOrderByTime",value:function(t){var e=t.target;null!==e.parentNode&&(e.parentNode.childNodes.forEach((function(t){t.classList.remove("selectOrderByTime")})),e.classList.add("selectOrderByTime"),this.$store.state.chartOrderByTime=e.textContent)}}]),a}(n["a"]);st=Object(x["a"])([A["a"]],st);var nt=st,it=nt,ot=(a("7ff0"),Object(r["a"])(it,et,at,!1,null,"17e944b6",null)),rt=ot.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"wrapper",staticClass:"wrapper"},[a("div",{ref:"eChart",staticClass:"eChart"})])},lt=[],ut=a("2909"),dt=(a("d3b7"),a("ddb0"),a("99af"),a("313e")),ht=a.n(dt);a("4de4"),a("4e82");function ft(t){var e=[],a=[0,1,2,3,4,5,6,7,8,9,10,11];return a.forEach((function(a){var s=t.filter((function(t){return E()(t.createdAt).get("month")===a})),n={recordList:[],total:"",pay:"",income:""};n.recordList=s;var i=0,o=0;s.length>0?(s.sort((function(t,e){return E()(t.createdAt).isBefore(E()(e.createdAt))?-1:E()(t.createdAt).isAfter(E()(e.createdAt))?1:0})),s.forEach((function(t){"-"===t.type?i+=parseFloat(t.amount):"+"===t.type&&(o+=parseFloat(t.amount))})),n.total=o-i+"",n.pay=i+"",n.income=o+"",e.push(n)):(n.recordList=[],n.pay="0",n.income="0",n.total="0",e.push(n))})),e}a("7db0");function vt(t,e,a){var s,n={keys:[],values:[]},i=0;i="周"===t?7:E()().endOf("month").get("date");for(var o=function(i){if("周"===t){var o=E()().subtract(1,"day").startOf("week").add(i+1,"day");n.keys.push(o.format("M月D日")),s=e.find((function(t){return t.date===o.format("YYYY年M月D日")}))}else s=e.find((function(t){return t.date===E()().startOf("month").add(i,"day").format("YYYY年M月D日")})),n.keys.push(E()().startOf("month").add(i,"day").format("M月D日"));var r=0;void 0!==s?(s.value.forEach((function(t){t.type===a&&(r+=parseFloat(t.amount))})),n.values.push(r)):n.values.push(0)},r=0;r<i;r++)o(r);return n}var pt=function(t){Object(_["a"])(a,t);var e=Object($["a"])(a);function a(){var t;return Object(k["a"])(this,a),t=e.apply(this,arguments),t.option={grid:{left:0,right:0},title:{text:"本周"},tooltip:{show:!0,triggerOn:"click",position:"top",formatter:"{c}"},xAxis:{type:"category",data:[],axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:"#666"}},axisLabel:{interval:0}},yAxis:{type:"value",show:!1},series:[{symbol:"circle",symbolSize:12,type:"line",itemStyle:{borderWidth:1,color:"#666",borderColor:"#666"},data:[]}]},t.chartData={keys:[],values:[]},t}return Object(j["a"])(a,[{key:"optionInitByPayOrIncome",value:function(){this.getChartDate()}},{key:"optionInitByOrderTime",value:function(){var t=this.$store.state.chartOrderByTime||"",e="年"!==t?"本"+t:"今年";if(void 0!==this.chart){this.chart.setOption({title:{text:e}});var a=this.$refs.eChart,s=this.$refs.wrapper;"周"===t||"年"===t?a.style.width=s.offsetWidth+"px":(a.style.border="none",a.style.width=Math.round(s.offsetWidth*(4+2/7))+"px",this.$refs.wrapper.scrollLeft=a.offsetWidth*E()().get("date")/30-s.offsetWidth/2),this.getChartDate(),this.chart.resize()}}},{key:"mounted",value:function(){this.chart=ht.a.init(this.$refs.eChart),this.chart.setOption(this.option),this.getChartDate()}},{key:"beforeDestroy",value:function(){this.$store.state.chartOrderByTime="周",this.$store.state.chartPayOrIncome="支出"}},{key:"getChartDate",value:function(){var t,e=this;if(this.$store.commit("fetchRecordList"),"年"===this.$store.state.chartOrderByTime){this.chartData={keys:[],values:[]};var a=1,s=ft(this.$store.state.recordList);s.forEach((function(t){e.chartData.keys.push(a+"月"),"支出"===e.$store.state.chartPayOrIncome?e.chartData.values.push(parseInt(t.pay)):e.chartData.values.push(parseInt(t.income)),a++}))}else if("周"===this.$store.state.chartOrderByTime){var n=Y(this.$store.state.recordListHash[E()().get("month")].recordList),i=Y(this.$store.state.recordListHash[E()().subtract(1,"month").get("month")].recordList);"支出"===this.$store.state.chartPayOrIncome?this.chartData=vt("周",[].concat(Object(ut["a"])(i),Object(ut["a"])(n)),"-"):this.chartData=vt("周",[].concat(Object(ut["a"])(i),Object(ut["a"])(n)),"+")}else if("月"===this.$store.state.chartOrderByTime){var o=Y(this.$store.state.recordListHash[E()().get("month")].recordList);"支出"===this.$store.state.chartPayOrIncome?this.chartData=vt("月",o,"-"):this.chartData=vt("月",o,"+")}var r={xAxis:{data:this.chartData.keys},series:[{data:this.chartData.values}]};null===(t=this.chart)||void 0===t||t.setOption(r)}}]),a}(n["a"]);Object(x["a"])([Object(A["d"])("$store.state.chartPayOrIncome")],pt.prototype,"optionInitByPayOrIncome",null),Object(x["a"])([Object(A["d"])("$store.state.chartOrderByTime")],pt.prototype,"optionInitByOrderTime",null),pt=Object(x["a"])([A["a"]],pt);var mt=pt,yt=mt,gt=(a("460b"),Object(r["a"])(yt,ct,lt,!1,null,"29516a28",null)),bt=gt.exports,Ot={name:"ChartVue",components:{ChartContent:bt,ChartTop:rt}},wt=Ot,kt=Object(r["a"])(wt,Z,tt,!1,null,"add86654",null),jt=kt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"container",staticClass:"money-container",style:"height:"+t.currentHeight},[a("TopNav"),a("SelectTags"),a("NumberPad",{attrs:{"current-height":t.currentHeight},on:{"update:currentHeight":function(e){t.currentHeight=e},"update:current-height":function(e){t.currentHeight=e}}})],1)},$t=[],xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-top-wrap"},[a("div",{staticClass:"pay",class:{selected:"pay"===t.value},on:{click:t.select}},[t._v("支出")]),a("div",{staticClass:"income",class:{selected:"income"===t.value},on:{click:t.select}},[t._v("收入")]),a("div",{staticClass:"return"},[a("router-link",{attrs:{to:"/statistics"},nativeOn:{click:function(e){return t.goBack.apply(null,arguments)}}},[a("icon",{attrs:{name:"return"}})],1)],1)])},It=[],Ct=function(t){Object(_["a"])(a,t);var e=Object($["a"])(a);function a(){var t;return Object(k["a"])(this,a),t=e.apply(this,arguments),t.selected=!1,t.value="pay",t}return Object(j["a"])(a,[{key:"select",value:function(t){this.$store.state.selectedTagIds=[],null!==t.target&&(this.value="income"===t.target.classList[0]?"income":"pay",this.$store.state.payOrIncome=this.value)}},{key:"goBack",value:function(){this.$store.state.isAdd="no",this.$store.state.payOrIncome="pay",this.$store.state.selectedTagIds=[]}}]),a}(n["a"]);Ct=Object(x["a"])([A["a"]],Ct);var Lt,Tt=Ct,Dt=Tt,At=(a("1ce9"),Object(r["a"])(Dt,xt,It,!1,null,"a3b0ec54",null)),Bt=At.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"container",staticClass:"container-wrap"},[t.inputIsVisible?a("div",{staticClass:"inputs"},[a("label",{staticClass:"note"},[a("span",[t._v("备注：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.noteValue,expression:"noteValue"}],attrs:{type:"text"},domProps:{value:t.noteValue},on:{input:[function(e){e.target.composing||(t.noteValue=e.target.value)},t.inputNote]}})]),a("label",{staticClass:"amount"},[a("span",[t._v("金额：")]),a("input",{attrs:{onfocus:"this.blur()",type:"text"},domProps:{value:t.value}})])]):t._e(),t.buttonIsVisible?a("div",{staticClass:"buttons"},[a("button",{on:{click:t.inputAmount}},[t._v("1")]),a("button",{on:{click:t.inputAmount}},[t._v("2")]),a("button",{on:{click:t.inputAmount}},[t._v("3")]),a("button",{on:{click:function(e){return t.calculate("+")}}},[t._v("+")]),a("button",{on:{click:t.clear}},[t._v("清除")]),a("button",{on:{click:t.inputAmount}},[t._v("4")]),a("button",{on:{click:t.inputAmount}},[t._v("5")]),a("button",{on:{click:t.inputAmount}},[t._v("6")]),a("button",{on:{click:function(e){return t.calculate("-")}}},[t._v("-")]),a("button",{on:{click:t.clearAll}},[t._v("清空")]),a("button",{on:{click:t.inputAmount}},[t._v("7")]),a("button",{on:{click:t.inputAmount}},[t._v("8")]),a("button",{on:{click:t.inputAmount}},[t._v("9")]),a("button",{on:{click:function(e){return t.calculate("×")}}},[t._v("×")]),a("button",{ref:"ok",staticClass:"ok",on:{click:t.ok}},[t._v("完成")]),a("button",{on:{click:t.inputAmount}},[t._v("0")]),a("button",{on:{click:t.inputAmount}},[t._v(".")]),a("button",{staticClass:"date",on:{click:function(e){t.isVisibleDate=!0}}},[t._v(t._s(t.createAt))]),a("button",{on:{click:function(e){return t.calculate("÷")}}},[t._v("÷")]),t.isVisibleDate?a("simple-calendar",{attrs:{"is-visible":t.isVisibleDate},on:{"update:isVisible":function(e){t.isVisibleDate=e},"update:is-visible":function(e){t.isVisibleDate=e}}}):t._e()],1):t._e()])},St=[],Ht=(a("e7e5"),a("d399")),Nt=(a("fb6a"),a("466d"),a("1276"),a("b680"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-calendar",{attrs:{"min-date":t.minDate},on:{confirm:t.onConfirm,close:t.onClose},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}})],1)}),Vt=[],Mt=(a("c194"),a("7744")),Rt=(a("6d73"),a("473d")),Pt=function(t){Object(_["a"])(a,t);var e=Object($["a"])(a);function a(){var t;return Object(k["a"])(this,a),t=e.apply(this,arguments),t.isShow=!1,t.minDate=E()((new Date).toISOString()).subtract(3,"month").toDate(),t}return Object(j["a"])(a,[{key:"onIsShow",value:function(t){this.isShow=t}},{key:"onConfirm",value:function(t){this.$emit("update:isVisible",!1),E()(t).isSame(E()(),"day")?this.$parent.$data.createAt="今天":this.$parent.$data.createAt=E()(t).format("YYYY-M-D")}},{key:"onClose",value:function(){this.$emit("update:isVisible",!1)}}]),a}(n["a"]);Object(x["a"])([Object(A["b"])()],Pt.prototype,"isVisible",void 0),Object(x["a"])([Object(A["d"])("isVisible",{immediate:!0})],Pt.prototype,"onIsShow",null),Pt=Object(x["a"])([Object(A["a"])({components:(Lt={},Object(L["a"])(Lt,Rt["a"].name,Rt["a"]),Object(L["a"])(Lt,Mt["a"].name,Mt["a"]),Lt)})],Pt);var Yt=Pt,Ft=Yt,zt=Object(r["a"])(Ft,Nt,Vt,!1,null,null,null),Jt=zt.exports,Ut=a("f906"),Wt=a.n(Ut);E.a.extend(Wt.a),n["a"].use(Ht["a"]);var qt=function(t){Object(_["a"])(a,t);var e=Object($["a"])(a);function a(){var t;return Object(k["a"])(this,a),t=e.apply(this,arguments),t.value="0",t.noteValue="",t.isVisibleDate=!1,t.createAt="今天",t.isVisibleButton=!0,t.isVisibleInput=!0,t}return Object(j["a"])(a,[{key:"inputIsVisible",get:function(){return"is"!==this.$store.state.isAdd&&!this.$store.state.isEdit&&this.isVisibleInput}},{key:"buttonIsVisible",get:function(){return"is"!==this.$store.state.isAdd&&!this.$store.state.isEdit&&this.isVisibleButton}},{key:"inputNote",value:function(){this.noteValue.length>23&&(Object(Ht["a"])("备注太多了！"),this.noteValue=this.noteValue.slice(0,23))}},{key:"inputAmount",value:function(t){var e=t.target,a=e.textContent||"",s=this.value.match(/[0-9,.]*/g)||[];if(e.classList.add("clickStyle"),setTimeout((function(){e.classList.remove("clickStyle")}),120),s.length>0){var n=s.filter((function(t){return t.length>0}));if(1===n.length&&-1==="+-×÷".indexOf(this.value.charAt(this.value.length-1))){if(n[0].length>=8)return void Object(Ht["a"])({message:"计算金额不能超过8位数！",duration:1e3})}else if(2===n.length&&n[1].length>=8)return void Object(Ht["a"])({message:"计算金额不能超过8位数！",duration:1e3})}if("0"===this.value)"."===a?this.value+=a:this.value=a;else if("."===a){if("."===this.value.slice(0,-1))return;"+-×÷".indexOf(this.value.charAt(this.value.length-1))>=0?this.value+="0.":-1===this.value.indexOf(".")&&(this.value+=a)}else"0"===a?("+-×÷".indexOf(this.value.charAt(this.value.length-1))>=0||this.value.length>0)&&(this.value+=a):this.value.indexOf("+")>=0||this.value.indexOf("-")>=0||this.value.indexOf("×")>=0||this.value.indexOf("÷")>=0?(this.$refs.ok.textContent="=",this.value+=a):this.value+=a}},{key:"clear",value:function(){"0"!==this.value&&(this.value=this.value.slice(0,-1),""===this.value?this.value="0":"+-×÷".indexOf(this.value.charAt(this.value.length-1))>=0&&(this.$refs.ok.textContent="完成"))}},{key:"clearAll",value:function(){this.value="0",this.$refs.ok.textContent="完成"}},{key:"mounted",value:function(){var t=this,e=navigator.userAgent,a=e.indexOf("Android")>-1||e.indexOf("Adr")>-1,s=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);if(a){var n=document.documentElement.clientHeight||document.body.clientHeight;window.onresize=function(){var e=document.documentElement.clientHeight||document.body.clientHeight;t.isVisibleButton=e>=n,t.isVisibleInput=!(t.$store.state.isEdit||"is"===t.$store.state.isAdd),t.$emit("update:currentHeight",e)}}s&&(document.body.addEventListener("focusin",(function(){t.isVisibleButton=!1})),document.body.addEventListener("focusout",(function(){t.isVisibleButton=!0})))}},{key:"calculate",value:function(t){var e=this.value;if(this.value.indexOf("+")>=0||this.value.indexOf("-")>=0||this.value.indexOf("×")>=0||this.value.indexOf("÷")>=0){if("+-×÷".indexOf(this.value.charAt(this.value.length-1))>=0)return void(this.value=this.value.substr(0,this.value.length-1)+t);"-"===this.value.charAt(0)&&(e=this.value.substr(1,this.value.length-1)),2===e.split("+").length?this.value=parseFloat(this.value.split("+")[0])+parseFloat(this.value.split("+")[1])+t:2===e.split("-").length?this.value=parseFloat(this.value.split("-")[0])-parseFloat(this.value.split("-")[1])+t:2===e.split("×").length?this.value=parseFloat(this.value.split("×")[0])*parseFloat(this.value.split("×")[1])+t:2===e.split("÷").length?this.value=parseFloat(this.value.split("÷")[0])/parseFloat(this.value.split("÷")[1])+t:this.value+=t,"NaN"===this.value.slice(0,-1)&&(this.value="0"+t),this.value.slice(0,-1).split(".").length>1&&this.value.slice(0,-1).split(".")[1].length>2&&(this.value=parseFloat(this.value.slice(0,-1)).toFixed(2)+t)}else this.value+=t}},{key:"ok",value:function(){var t=this,e=!1;if("+-×÷".indexOf(this.value.charAt(this.value.length-1))>=0)this.value=this.value.slice(0,-1);else{var a;if("-"===this.value.charAt(0)&&(e=!0,this.value=this.value.slice(1,this.value.length)),this.value.indexOf("+")>=0||this.value.indexOf("-")>=0||this.value.indexOf("×")>=0||this.value.indexOf("÷")>=0)a=2===this.value.split("+").length?parseFloat(this.value.split("+")[0])+parseFloat(this.value.split("+")[1]):2===this.value.split("-").length?e?0-parseFloat(this.value.split("-")[0])-parseFloat(this.value.split("-")[1]):parseFloat(this.value.split("-")[0])-parseFloat(this.value.split("-")[1]):2===this.value.split("×").length?parseFloat(this.value.split("×")[0])*parseFloat(this.value.split("×")[1]):parseFloat(this.value.split("÷")[0])/parseFloat(this.value.split("÷")[1]),(a+"").split(".").length>1&&(a+"").split(".")[1].length>2&&(a=parseFloat(a.toFixed(2))),isNaN(a)?this.value="0":this.value=a+"";else if(this.$store.state.selectedTagIds.length>0){var s={tags:[],notes:"",amount:"",createdAt:"",type:""};this.$store.state.selectedTagIds.forEach((function(e){var a=t.$store.state.tagList.find((function(t){return t.id===e}));a&&s.tags.push(a)})),s.amount=this.value,s.notes=this.noteValue,"今天"===this.createAt?s.createdAt=E()().toISOString():s.createdAt=E()(this.createAt,"YYYY-M-D").toISOString(),"pay"===this.$store.state.payOrIncome?s.type="-":"income"===this.$store.state.payOrIncome&&(s.type="+"),this.$store.commit("saveRecord",s),this.$router.push({path:"/statistics"}),Ht["a"].success({message:"保存成功",duration:1e3})}else Object(Ht["a"])("请选择至少一个标签");this.$refs.ok.textContent="完成"}}}]),a}(n["a"]);Object(x["a"])([Object(A["b"])()],qt.prototype,"currentHeight",void 0),qt=Object(x["a"])([Object(A["a"])({components:{SimpleCalendar:Jt}})],qt);var Xt=qt,Gt=Xt,Kt=(a("4433"),Object(r["a"])(Gt,Et,St,!1,null,"63764558",null)),Qt=Kt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"type-items-wrap"},["pay"===t.$store.state.payOrIncome&&"no"===t.$store.state.isAdd&&!1===this.isEdit?a("ol",{staticClass:"type-items"},[t._l(t.tagList,(function(e){return a("li",{key:e.id,attrs:{"data-id":e.id},on:{touchstart:function(e){return e.preventDefault(),t.selectOrEdit.apply(null,arguments)},mousedown:function(e){return e.preventDefault(),t.selectOrEdit.apply(null,arguments)},touchend:function(e){return e.preventDefault(),t.end.apply(null,arguments)},mouseup:function(e){return e.preventDefault(),t.end.apply(null,arguments)}}},[t._v(t._s(e.name)+" ")])})),0===t.$store.state.selectedTagIds.length?a("li",{staticClass:"add",on:{click:t.add}},[a("icon",{attrs:{name:"addTags"}})],1):t._e()],2):t._e(),"income"===t.$store.state.payOrIncome&&"no"===t.$store.state.isAdd&&!1===this.isEdit?a("ol",{staticClass:"type-items"},[t._l(t.tagList,(function(e){return a("li",{key:e.id,attrs:{"data-id":e.id},on:{touchstart:function(e){return e.preventDefault(),t.selectOrEdit.apply(null,arguments)},mousedown:function(e){return e.preventDefault(),t.selectOrEdit.apply(null,arguments)},touchend:function(e){return e.preventDefault(),t.end.apply(null,arguments)},mouseup:function(e){return e.preventDefault(),t.end.apply(null,arguments)}}},[t._v(t._s(e.name))])})),t.isEdit?t._e():a("li",{staticClass:"add",on:{click:t.add}},[a("icon",{attrs:{name:"addTags"}})],1)],2):t._e(),"is"===t.$store.state.isAdd||this.isEdit?a("Tags",{attrs:{"edit-id":t.editId,"is-edit":t.isEdit,placeholder:t.placeholder,"left-button-content":t.leftButtonContent,"right-button-content":t.rightButtonContent,"edit-value":t.editValue},on:{"update:editId":function(e){t.editId=e},"update:edit-id":function(e){t.editId=e},"update:isEdit":function(e){t.isEdit=e},"update:is-edit":function(e){t.isEdit=e}}}):t._e()],1)},te=[],ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-window"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{input:[function(e){e.target.composing||(t.value=e.target.value)},t.isExceed]}})]),a("div",{staticClass:"button-wrap"},[a("button",{ref:"cancelOrRemove",staticClass:"cancel",on:{click:t.cancelOrRemove}},[t._v(t._s(t.leftButtonContent))]),a("button",{ref:"addOrUpdate",staticClass:"addOrEdit",on:{click:t.addOrUpdate}},[t._v(t._s(t.rightButtonContent))])])])},ae=[],se=(a("498a"),a("25f0"),parseInt(window.localStorage.getItem("_maxId")||"0"));function ne(){return window.localStorage.setItem("_maxId",(++se).toString()),se+""}var ie=function(t){Object(_["a"])(a,t);var e=Object($["a"])(a);function a(){var t;return Object(k["a"])(this,a),t=e.apply(this,arguments),t.value=t.editValue.trim()||"",t}return Object(j["a"])(a,[{key:"isExceed",value:function(){this.value.length>=15&&(this.value=this.value.slice(0,15))}},{key:"cancel",value:function(){this.$store.state.isAdd="no"}},{key:"add",value:function(){var t;""!==this.value?(t="pay"===this.$store.state.payOrIncome?"-":"+",this.$store.commit("saveTag",{id:ne()+"",name:this.value,type:t}),this.$store.state.isAdd="no"):Object(Ht["a"])({message:"标签名不能为空",duration:1e3})}},{key:"remove",value:function(){this.$store.commit("removeTag",this.editId),console.log(this.editId),this.$store.state.isAdd="no",this.$emit("update:editId",""),this.$store.state.isEdit=!1,this.$store.state.selectedTagIds=[],Object(Ht["a"])({message:"删除标签成功",duration:500})}},{key:"update",value:function(){var t;""!==this.value&&(t="pay"===this.$store.state.payOrIncome?"-":"+",this.$store.commit("updateTag",{id:this.editId+"",name:this.value,type:t}));this.$store.state.selectedTagIds=[],this.$emit("update:editId",""),this.$store.state.isEdit=!1,Object(Ht["a"])({message:"更新标签成功",duration:500})}},{key:"addOrUpdate",value:function(){var t=this.$refs.addOrUpdate;"更新"===t.textContent?this.update():this.add()}},{key:"cancelOrRemove",value:function(){var t=this.$refs.cancelOrRemove;"取消"===t.textContent?this.cancel():this.remove()}}]),a}(n["a"]);Object(x["a"])([Object(A["b"])()],ie.prototype,"placeholder",void 0),Object(x["a"])([Object(A["b"])()],ie.prototype,"editId",void 0),Object(x["a"])([Object(A["b"])()],ie.prototype,"leftButtonContent",void 0),Object(x["a"])([Object(A["b"])()],ie.prototype,"rightButtonContent",void 0),Object(x["a"])([Object(A["b"])(String)],ie.prototype,"editValue",void 0),ie=Object(x["a"])([A["a"]],ie);var oe=ie,re=oe,ce=(a("556f"),Object(r["a"])(re,ee,ae,!1,null,"2aff10bd",null)),le=ce.exports,ue=function(t){Object(_["a"])(a,t);var e=Object($["a"])(a);function a(){var t;return Object(k["a"])(this,a),t=e.apply(this,arguments),t.editId="",t.timer=-1,t.placeholder="",t.selectType="",t.isLongDown=!1,t.leftButtonContent="",t.rightButtonContent="",t.editValue="",t}return Object(j["a"])(a,[{key:"isEdit",get:function(){return this.$store.state.isEdit}},{key:"created",value:function(){this.$store.commit("fetchTags"),0===this.$store.state.tagList.length&&(this.$store.commit("saveTag",{id:ne(),name:"衣",type:"-"}),this.$store.commit("saveTag",{id:ne(),name:"食",type:"-"}),this.$store.commit("saveTag",{id:ne(),name:"住",type:"-"}),this.$store.commit("saveTag",{id:ne(),name:"行",type:"-"}),this.$store.commit("saveTag",{id:ne(),name:"工资",type:"+"}))}},{key:"tagList",get:function(){return"pay"===this.$store.state.payOrIncome?this.$store.state.tagList.filter((function(t){return"-"===t.type})):this.$store.state.tagList.filter((function(t){return"+"===t.type}))}},{key:"add",value:function(){this.$store.state.isAdd="is",this.placeholder="标签名",this.leftButtonContent="取消",this.rightButtonContent="添加",this.editValue=""}},{key:"selectOrEdit",value:function(t){var e=this;0===this.$store.state.selectedTagIds.length&&(this.timer=setTimeout((function(){e.isLongDown=!0,e.edit(t)}),500))}},{key:"end",value:function(t){this.isLongDown||(clearTimeout(this.timer),this.select(t)),this.timer=-1,this.isLongDown=!1}},{key:"edit",value:function(t){this.$store.state.isEdit=!0,this.editId=t.target.dataset.id||"",this.placeholder="修改后的标签名",this.leftButtonContent="删除",this.rightButtonContent="更新",this.editValue=t.target.textContent||"",this.timer=-1,this.isLongDown=!1}},{key:"select",value:function(t){var e=t.target;if("selected"===e.className)e.classList.remove("selected"),this.$store.state.selectedTagIds=this.$store.state.selectedTagIds.filter((function(t){return t!==e.dataset.id}));else{if(this.$store.state.selectedTagIds.length>=3)return void Object(Ht["a"])("只能添加3个标签呢！");e.classList.add("selected"),this.$store.state.selectedTagIds.push(e.dataset.id+"")}}}]),a}(n["a"]);ue=Object(x["a"])([Object(A["a"])({components:{Tags:le}})],ue);var de=ue,he=de,fe=(a("298a"),Object(r["a"])(he,Zt,te,!1,null,"c139de76",null)),ve=fe.exports,pe=function(t){Object(_["a"])(a,t);var e=Object($["a"])(a);function a(){var t;return Object(k["a"])(this,a),t=e.apply(this,arguments),t.currentHeight=document.documentElement.clientHeight+"px",t}return Object(j["a"])(a,[{key:"height",get:function(){return this.currentHeight}},{key:"updateHeight",value:function(t){var e=this.$refs.container;e.style.height=t+"px"}}]),a}(A["c"]);Object(x["a"])([Object(A["d"])("currentHeight")],pe.prototype,"updateHeight",null),pe=Object(x["a"])([Object(A["a"])({components:{SelectTags:ve,NumberPad:Qt,TopNav:Bt}})],pe);var me,ye=pe,ge=ye,be=(a("9a85"),Object(r["a"])(ge,_t,$t,!1,null,"f01bcd9e",null)),Oe=be.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"container",staticClass:"content-wrap"},[a("div",{staticClass:"top"},[a("Icon",{staticClass:"icon",attrs:{name:"return1"},nativeOn:{click:function(e){return t.goBack.apply(null,arguments)}}}),a("span",[t._v("详情")])],1),a("div",{staticClass:"content"},[a("van-cell-group",[a("van-cell",{attrs:{"is-link":"",title:"收入类型",value:t.tagType},on:{click:function(e){t.showActionSheet=!0}}}),a("van-action-sheet",{attrs:{actions:t.actions},on:{select:t.onSelect},model:{value:t.showActionSheet,callback:function(e){t.showActionSheet=e},expression:"showActionSheet"}}),a("van-cell",{attrs:{title:"标签",closeable:""},on:{click:t.showPopup}},[t._v(t._s(t.currentTagNames))]),a("van-popup",{style:{height:"30%"},attrs:{closeable:"",position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("van-checkbox-group",{attrs:{direction:"horizontal",max:3},on:{change:t.onChange},model:{value:t.selectResult,callback:function(e){t.selectResult=e},expression:"selectResult"}},t._l(t.tagList,(function(e,s){return a("van-checkbox",{key:s,attrs:{name:e.id,shape:"square"}},[t._v(t._s(e.name))])})),1)],1),a("van-field",{attrs:{label:"金额",type:"number",placeholder:"请输入金额"},on:{input:t.inputAmount},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("van-cell",{attrs:{title:"日期",value:t.displayDate},on:{click:function(e){t.showCalendar=!0}}}),a("van-calendar",{attrs:{"min-date":t.minDate,"max-date":t.maxDate},on:{confirm:t.onConfirm},model:{value:t.showCalendar,callback:function(e){t.showCalendar=e},expression:"showCalendar"}}),a("van-field",{attrs:{label:"备注",placeholder:"请输入备注"},on:{input:t.inputNote},model:{value:t.notes,callback:function(e){t.notes=e},expression:"notes"}})],1)],1),a("div",{staticClass:"bottom"},[a("button",{staticClass:"remove",on:{click:t.remove}},[t._v("删除")]),a("button",{staticClass:"update",on:{click:t.update}},[t._v("更新")])])])},ke=[],je=(a("2cbd"),a("ab2c")),_e=(a("a909"),a("3acc")),$e=(a("3c32"),a("417e")),xe=(a("0653"),a("34e9")),Ie=(a("be7f"),a("565f"));n["a"].use(Rt["a"]);var Ce=function(t){Object(_["a"])(a,t);var e=Object($["a"])(a);function a(){var t;return Object(k["a"])(this,a),t=e.apply(this,arguments),t.show=!1,t.selectResult=[],t.currentTagNames="",t.defaultTagIds=[],t.defaultTagType="",t.tagIncomeList=[],t.tagPayList=[],t.tagList=[],t.minDate=E()().startOf("year").toDate(),t.maxDate=E()().endOf("year").toDate(),t.showCalendar=!1,t.showActionSheet=!1,t.displayDate="",t.actions=[{name:"支出"},{name:"收入"}],t.amount="",t.tagType="",t.actionItem="",t.notes="",t.createAt="",t}return Object(j["a"])(a,[{key:"mounted",value:function(){var t=this.$refs.container;t.style.height=document.documentElement.clientHeight+"px"}},{key:"onSelect",value:function(t){this.showActionSheet=!1,this.tagType=t.name,this.actionItem!==t.name&&(this.selectResult=[],this.currentTagNames="无"),"支出"===t.name?this.tagList=this.tagPayList:this.tagList=this.tagIncomeList,this.actionItem=t.name}},{key:"showPopup",value:function(){this.show=!0}},{key:"onInit",value:function(){var t=this,e=JSON.parse(window.localStorage.getItem("currentRecord")||"");null!==e&&(this.amount=e.amount,this.notes=e.notes,this.createAt=e.createdAt,this.defaultTagType=e.tags[0].type,e.tags.forEach((function(e){t.selectResult.push(e.id),t.defaultTagIds.push(e.id),t.currentTagNames+=e.name+" "})),this.$store.commit("fetchTags"),this.$store.state.tagList.forEach((function(e){"+"===e.type?t.tagIncomeList.push(e):t.tagPayList.push(e)})),"-"===e.tags[0].type?(this.tagType="支出",this.tagList=this.tagPayList,this.actionItem="支出"):(this.tagType="收入",this.tagList=this.tagIncomeList,this.actionItem="收入"),this.displayDate=E()(e.createdAt).format("YYYY年M月D日"))}},{key:"goBack",value:function(){this.$router.push("/statistics")}},{key:"remove",value:function(){this.$store.commit("removeRecord",this.$store.state.currentRecord),this.goBack()}},{key:"findTagsById",value:function(t){var e,a=this,s=[];return t.forEach((function(t){e=a.tagList.find((function(e){return e.id===t})),void 0!==e&&s.push(e)})),s}},{key:"update",value:function(){if("无"===this.currentTagNames)Object(Ht["a"])("请选择至少一个标签"),this.selectResult=this.defaultTagIds,this.currentTagNames=this.findNameById(this.defaultTagIds),"-"===this.defaultTagType?(this.tagType="支出",this.tagList=this.tagPayList):(this.tagList=this.tagIncomeList,this.tagType="收入");else if(""===this.amount)Object(Ht["a"])("必须要有一个值呢！");else{var t=this.findTagsById(this.selectResult),e=this.amount;parseFloat(this.amount)<0&&(e=e.slice(1));var a={tags:t,notes:this.notes,amount:e,createdAt:this.createAt,type:""};"支出"===this.tagType?a.type="-":a.type="+",this.$store.commit("updateRecord",a),this.$router.push("/statistics"),Object(Ht["a"])("更新成功")}}},{key:"findNameById",value:function(t){var e,a=this,s="";return t.forEach((function(t){e=a.$store.state.tagList.find((function(e){return e.id===t})),void 0!==e&&(s+=e.name+" ")})),s}},{key:"onChange",value:function(){0===this.selectResult.length?this.currentTagNames="无":this.currentTagNames=this.findNameById(this.selectResult)}},{key:"onConfirm",value:function(t){this.showCalendar=!1,this.displayDate=E()(t).format("YYYY年M月D日"),this.createAt=E()(t).toISOString()}},{key:"inputNote",value:function(){this.notes.length>23&&(Object(Ht["a"])("备注太多了！"),this.notes=this.notes.slice(0,23))}},{key:"inputAmount",value:function(){this.amount.length>11?(Object(Ht["a"])("太多的数字了"),this.amount=this.amount.slice(0,11)):this.amount.length>=2&&"0"===this.amount[0]&&"."!==this.amount[1]&&(Object(Ht["a"])("格式不太对！"),this.amount=" 0")}}]),a}(n["a"]);Object(x["a"])([Object(A["d"])("$store.state.currentRecord",{immediate:!0})],Ce.prototype,"onInit",null),Ce=Object(x["a"])([Object(A["a"])({components:(me={},Object(L["a"])(me,Ie["a"].name,Ie["a"]),Object(L["a"])(me,xe["a"].name,xe["a"]),Object(L["a"])(me,T["a"].name,T["a"]),Object(L["a"])(me,Mt["a"].name,Mt["a"]),Object(L["a"])(me,$e["a"].name,$e["a"]),Object(L["a"])(me,_e["a"].name,_e["a"]),Object(L["a"])(me,je["a"].name,je["a"]),me)})],Ce);var Le=Ce,Te=Le,De=(a("850f"),Object(r["a"])(Te,we,ke,!1,null,"c9ad12f6",null)),Ae=De.exports;n["a"].use(f["a"]);var Be=[{path:"/",redirect:"/statistics"},{path:"/money",component:Oe},{path:"/chart",component:jt},{path:"/statistics",component:Q},{path:"/update",component:Ae},{path:"*",component:b}],Ee=new f["a"]({routes:Be}),Se=Ee,He=(a("c740"),a("a434"),a("2f62"));n["a"].use(He["a"]);var Ne={chartPayOrIncome:"支出",chartOrderByTime:"周",currentMonth:"",selectedTagIds:[],payOrIncome:"pay",isAdd:"no",isEdit:!1,tagList:[],recordList:[],recordListHash:[],currentRecord:{tags:[],notes:"",amount:"",createdAt:"",type:""}},Ve=new He["a"].Store({state:Ne,mutations:{fetchTags:function(t){t.tagList=JSON.parse(window.localStorage.getItem("tagList")||"[]")},saveTag:function(t,e){t.tagList.push(e),window.localStorage.setItem("tagList",JSON.stringify(t.tagList)),Ve.commit("fetchTags")},updateTag:function(t,e){var a=t.tagList.findIndex((function(t){return t.id===e.id}));-1!==a&&(t.tagList.splice(a,1,e),window.localStorage.setItem("tagList",JSON.stringify(t.tagList)))},removeTag:function(t,e){""!==e&&(window.localStorage.setItem("tagList",JSON.stringify(t.tagList.filter((function(t){return t.id!==e})))),Ve.commit("fetchTags"))},fetchRecordList:function(t){t.recordList=JSON.parse(window.localStorage.getItem("recordList")||"[]"),Ve.commit("getRecordListHash")},saveRecord:function(t,e){void 0!==e&&t.recordList.push(e),window.localStorage.setItem("recordList",JSON.stringify(t.recordList)),Ve.commit("fetchRecordList"),t.selectedTagIds=[],Ve.commit("getRecordListHash")},getRecordListHash:function(t){null!==t.recordList&&(t.recordListHash=ft(t.recordList))},removeRecord:function(t,e){Ve.commit("fetchRecordList");var a=t.recordList.findIndex((function(t){return t.createdAt===e.createdAt}));t.recordList.splice(a,1),Ve.commit("saveRecord")},updateRecord:function(t,e){var a=JSON.parse(window.localStorage.getItem("currentRecord")||"");Ve.commit("fetchRecordList");var s=t.recordList.findIndex((function(t){return t.createdAt===a.createdAt}));t.recordList.splice(s,1,e),Ve.commit("saveRecord")},getCurrentRecord:function(t){t.currentRecord=JSON.parse(window.localStorage.getItem("currentRecord")||"")}},actions:{},modules:{}}),Me=Ve,Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("router-link",{staticClass:"item",attrs:{to:"/statistics","active-class":"selected"}},[a("Icon",{attrs:{name:"statistics"}}),t._v(" 明细 ")],1),a("router-link",{staticClass:"item",attrs:{to:"/money","active-class":"selected"}},[a("Icon",{attrs:{name:"money"}}),t._v(" 记账 ")],1),a("router-link",{staticClass:"item",attrs:{to:"/chart","active-class":"selected"}},[a("Icon",{attrs:{name:"chart"}}),t._v(" 图表 ")],1)],1)},Pe=[],Ye={name:"Nav"},Fe=Ye,ze=(a("9223"),Object(r["a"])(Fe,Re,Pe,!1,null,"3b68adbc",null)),Je=ze.exports,Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"layout",staticClass:"layout-wrapper"},[a("div",{staticClass:"content"},[t._t("default")],2),a("Nav")],1)},We=[],qe=function(t){Object(_["a"])(a,t);var e=Object($["a"])(a);function a(){return Object(k["a"])(this,a),e.apply(this,arguments)}return Object(j["a"])(a,[{key:"mounted",value:function(){var t=this.$refs.layout;t.style.height=document.documentElement.clientHeight+"px"}}]),a}(A["c"]);qe=Object(x["a"])([A["a"]],qe);var Xe=qe,Ge=Xe,Ke=(a("dba0"),Object(r["a"])(Ge,Ue,We,!1,null,"0c1a65fd",null)),Qe=Ke.exports,Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{staticClass:"icon"},[a("use",{attrs:{"xlink:href":"#"+t.name}})])},ta=[],ea=function(t){return t.keys().forEach(t)};try{ea(a("b422"))}catch(oa){console.log(oa)}var aa={props:["name"],name:"Icon"},sa=aa,na=(a("ac8d"),Object(r["a"])(sa,Ze,ta,!1,null,"0e449392",null)),ia=na.exports;n["a"].config.productionTip=!1,n["a"].component("Nav",Je),n["a"].component("Layout",Qe),n["a"].component("Icon",ia),n["a"].use(s["a"]),/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)||Object(s["a"])({type:"primary",message:"建议使用移动端浏览"}),new n["a"]({router:Se,store:Me,render:function(t){return t(u)}}).$mount("#app")},cf44:function(t,e,a){"use strict";a.r(e);var s=a("e017"),n=a.n(s),i=a("21a1"),o=a.n(i),r=new n.a({id:"money",use:"money-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="money"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.eot?#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff2) format("woff2"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff) format("woff"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.ttf) format("truetype"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.svg#iconfont) format("svg")}</style></defs><path d="M463.3 958.3V772.1H228.8v-77.5h234.5v-80.5H228.8v-83.5H420L191.5 128h113.7L469 420.6c18.2 33.4 32.4 62.4 42.7 86.9 9-19.8 24.6-50.5 46.8-92.1L713.9 128h120.8L605.5 530.6h192.9v83.5H564.9v80.5h233.5v77.5H564.9v186.2H463.3z" /></symbol>'});o.a.add(r);e["default"]=r},dba0:function(t,e,a){"use strict";a("1f56")},dee3:function(t,e,a){"use strict";a.r(e);var s=a("e017"),n=a.n(s),i=a("21a1"),o=a.n(i),r=new n.a({id:"return1",use:"return1-usage",viewBox:"0 0 1102 1024",content:'<symbol class="icon" viewBox="0 0 1102 1024" xmlns="http://www.w3.org/2000/svg" id="return1"><defs><style></style></defs><path d="M1102.77 428.82H234.653L577.142 86.41 490.102 0 0 490.102l490.102 490.102 86.41-86.33-341.858-342.49h868.115z" /></symbol>'});o.a.add(r);e["default"]=r},ea23:function(t,e,a){},f32b:function(t,e,a){}});
//# sourceMappingURL=app.88f0bbe0.js.map